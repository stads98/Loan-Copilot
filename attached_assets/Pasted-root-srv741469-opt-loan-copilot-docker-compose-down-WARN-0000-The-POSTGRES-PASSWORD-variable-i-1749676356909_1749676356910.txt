root@srv741469:/opt/loan-copilot# docker-compose down
WARN[0000] The "POSTGRES_PASSWORD" variable is not set. Defaulting to a blank string.
[+] Running 3/3
 ✔ Container loan-copilot-app-1       Removed                                                                      0.7s
 ✔ Container loan-copilot-postgres-1  Removed                                                                      0.1s
 ✔ Network loan-copilot_default       Removed                                                                      0.1s
root@srv741469:/opt/loan-copilot# cat > Dockerfile << 'EOF'
> FROM node:18-alpine
> WORKDIR /app
> COPY package*.json ./
> RUN npm install
> COPY . .
> RUN mkdir -p uploads
> EXPOSE 5000
> ENV NODE_ENV=production
> ENV PORT=5000
> CMD ["npx", "tsx", "server/index.ts"]
> EOF
root@srv741469:/opt/loan-copilot# echo 'POSTGRES_PASSWORD=Adlercapital111' >> .env
root@srv741469:/opt/loan-copilot# docker-compose build --no-cache
WARN[0000] The "POSTGRES_PASSWORD" variable is not set. Defaulting to a blank string.
[+] Building 95.5s (11/11) FINISHED
 => [app internal] load build definition from Dockerfile                                                           0.0s
 => => transferring dockerfile: 228B                                                                               0.0s
 => [app internal] load metadata for docker.io/library/node:18-alpine                                              1.7s
 => [app internal] load .dockerignore                                                                              0.0s
 => => transferring context: 2B                                                                                    0.0s
 => [app 1/6] FROM docker.io/library/node:18-alpine@sha256:8d6421d663b4c28fd3ebc498332f249011d118945588d0a35cb9bc  0.0s
 => [app internal] load build context                                                                              4.2s
 => => transferring context: 90.65MB                                                                               4.0s
 => CACHED [app 2/6] WORKDIR /app                                                                                  0.0s
 => [app 3/6] COPY package*.json ./                                                                                0.3s
 => [app 4/6] RUN npm install                                                                                     27.5s
 => [app 5/6] COPY . .                                                                                            40.4s
 => [app 6/6] RUN mkdir -p uploads                                                                                 0.3s
 => [app] exporting to image                                                                                      20.9s
 => => exporting layers                                                                                           20.8s
 => => writing image sha256:cc831c72708b2aa4cac5c3361d719cfa726cf0d94dbf5e53e82aa227f29822ba                       0.0s
 => => naming to docker.io/library/loan-copilot-app                                                                0.0s
root@srv741469:/opt/loan-copilot# docker-compose up -d
WARN[0000] The "POSTGRES_PASSWORD" variable is not set. Defaulting to a blank string.
[+] Running 3/3
 ✔ Network loan-copilot_default       Created                                                                      0.1s
 ✔ Container loan-copilot-postgres-1  Started                                                                      0.3s
 ✔ Container loan-copilot-app-1       Started                                                                      0.4s
root@srv741469:/opt/loan-copilot# docker-compose ps
WARN[0000] The "POSTGRES_PASSWORD" variable is not set. Defaulting to a blank string.
NAME                      IMAGE                COMMAND                  SERVICE             CREATED             STATUS              PORTS
loan-copilot-app-1        loan-copilot-app     "docker-entrypoint.s…"   app                 12 seconds ago      Up 1 second         0.0.0.0:5000->5000/tcp, :::5000->5000/tcp
loan-copilot-postgres-1   postgres:15-alpine   "docker-entrypoint.s…"   postgres            12 seconds ago      Up 11 seconds       5432/tcp
root@srv741469:/opt/loan-copilot# docker-compose logs app
WARN[0000] The "POSTGRES_PASSWORD" variable is not set. Defaulting to a blank string.
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
loan-copilot-app-1  | OpenAI configuration: API key is set
loan-copilot-app-1  | node:internal/errors:496
loan-copilot-app-1  |     ErrorCaptureStackTrace(err);
loan-copilot-app-1  |     ^
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | TypeError [ERR_INVALID_ARG_TYPE]: The "paths[0]" argument must be of type string. Received undefined
loan-copilot-app-1  |     at __node_internal_captureLargerStackTrace (node:internal/errors:496:5)
loan-copilot-app-1  |     at new NodeError (node:internal/errors:405:5)
loan-copilot-app-1  |     at validateString (node:internal/validators:162:11)
loan-copilot-app-1  |     at Object.resolve (node:path:1115:7)
loan-copilot-app-1  |     at <anonymous> (/app/vite.config.ts:21:17)
loan-copilot-app-1  |     at ModuleJob.run (node:internal/modules/esm/module_job:195:25)
loan-copilot-app-1  |     at async ModuleLoader.import (node:internal/modules/esm/loader:337:24)
loan-copilot-app-1  |     at async loadESM (node:internal/process/esm_loader:34:7)
loan-copilot-app-1  |     at async handleMainPromise (node:internal/modules/run_main:106:12) {
loan-copilot-app-1  |   code: 'ERR_INVALID_ARG_TYPE'
loan-copilot-app-1  | }
loan-copilot-app-1  |
loan-copilot-app-1  |
loan-copilot-app-1  | Node.js v18.20.8
root@srv741469:/opt/loan-copilot# curl -I http://localhost:5000
curl: (7) Failed to connect to localhost port 5000 after 0 ms: Couldn't connect to server
root@srv741469:/opt/loan-copilot# curl -I http://adlercapital.pro
HTTP/1.1 502 Bad Gateway
Server: nginx/1.24.0 (Ubuntu)
Date: Wed, 11 Jun 2025 21:11:36 GMT
Content-Type: text/html
Content-Length: 166
Connection: keep-alive

root@srv741469:/opt/loan-copilot#